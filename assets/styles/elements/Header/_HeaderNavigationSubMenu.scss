/* stylelint-disable selector-class-pattern, no-descending-specificity */

@use "sass:math";
@use "../../common/variables" as *;
@use "../../common/mixins" as *;

.Header__navigation {

	ul.nav {

		> li {
			position: relative;

			> a {
				display: block;
				width: 100%;
			}

			.submenu {
				display: none;
				position: absolute;
				z-index: 2000;
				top: 100%;
				left: -10em;
				width: min-content;
				padding: 1.5em;
				background-color: $white;
				overflow: hidden;
				border: 1px solid $gray-200;
				border-radius: 0.5rem;
				box-shadow:
					0 4px 6px -1px rgba(0, 0, 0, 0.1),
					0 2px 4px -2px rgba(0, 0, 0, 0.05);

				li {
					grid-column: 1;
				}

				&-item {
					background-color: rgba($gray-50, 0);
					transition: all 0.3s;

					&__icon {

						@include square(1.25em);
						flex-shrink: 0;
						flex-grow: 0;
						fill: $gray-400;
						transition: fill 0.3s;
					}

					&__title[class] {
						font-size: 1rem !important;
						font-weight: 400;
						margin-bottom: 0;
					}

					&__description {
						font-size: 0.75rem;
					}

					&:hover {
						background-color: rgba($gray-50, 1);

						.submenu-item {

							&__icon {
								fill: $primary;
							}
						}
					}
				}

				li.submenu__right {
					grid-row: 1/100;
					grid-column: 2;
					margin: -1.5em;
					margin-left: 1.5em;
					padding: 1.5em;
					background-color: $gray-50;
				}

				&.col-2 {
					grid-template-columns: repeat(2, 280px);

					li:not(.submenu__right) {

						.learn-more {
							display: none;
						}
					}
				}

				&.col-3 {
					grid-template-columns: repeat(3, 280px);
					gap: 1em;

					li {
						grid-column: initial;
					}
				}
			}

			&:has(.submenu)::after { //On menu hover makes content of the page to have white overlay
				position: fixed;
				pointer-events: none;
				content: "";
				width: 100vw;
				height: 100vh;
				top: 92px;
				left: 0;
				background-color: rgba($white, 0.5);
				opacity: 0;
				transition: opacity 0.35s;
			}

			&:hover {

				&:has(.submenu)::after {
					opacity: 1;
				}

				.submenu {
					display: flex;
					flex-direction: column;

					@media (min-width: $breakpoint-tablet-landscape) {

						&[class*="col-"] {
							display: grid;
						}
					}
				}
			}
		}
	}
}
